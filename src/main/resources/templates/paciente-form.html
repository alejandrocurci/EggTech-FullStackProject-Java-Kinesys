<!DOCTYPE html>
<html
        lang="es"
        xmlns:th="http://www.thymeleaf.org"
        xmlns="http://www.w3.org/1999/xhtml"
>
<head>
      <meta charset="UTF-8">

      <meta name="viewport"
            content="width=device-width, initial-scale=1.0"
      >

      <meta
              http-equiv="X-UA-Compatible"
              content="ie=edge"
      >

      <meta
              name="description"
              content="Kinesys"
      >

      <meta
              name="Mesa 9"
              content="Leonardo Mella"
      >

      <title>Paciente-Formulario</title>

      <link
              href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
              rel="stylesheet"
              integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
              crossorigin="anonymous"
      >
      <!--<script
      src="https://code.jquery.com/jquery-3.6.0.min.js"
      integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
      crossorigin="anonymous"></script>-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <!-- <script
      src="https://code.jquery.com/jquery-2.2.4.min.js"
      integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
      crossorigin="anonymous"></script> -->
    


    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css">

      <link rel="stylesheet" th:href="@{/login.css}">
      <script src="/login.js"></script>

</head>

<body>

<div class="form">

      <ul class="tab-group">
            <li class="tab active"><a href="#signup">Registrarse</a></li>
            <li class="tab"><a href="#login">Ingresar</a></li>
      </ul>

      <div class="tab-content">
            <div id="signup">
                  <h1>Registro Gratuito</h1>

                  <div class="alert alert-danger" th:if="${error != null}" th:text="${error}"></div>
                  <form th:action="@{/pacientes/__${action}__}"
                        method="post"
                        th:object="${paciente}"
                        id="formulario"
                        novalidate>

                        <div class="top-row">
                              <div class="field-wrap">
                                    <label>
                                          Nombre<span class="req">*</span>
                                    </label>
                                    <input type="text" required autocomplete="off" th:field="*{nombre}"/>
                              </div>

                              <div class="field-wrap">
                                    <label>
                                          Apellido<span class="req">*</span>
                                    </label>
                                    <input type="text" required autocomplete="off" th:field="*{apellido}"/>
                              </div>
                        </div>

                        <div class="field-wrap">
                              <label>
                                    DNI <span class="req">*</span>
                              </label>
                              <input type="number"
                                     required autocomplete="off"
                                     th:field="*{dni}"
                                     maxlength="8"
                                     oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');"/>
                        </div>

                        <div class="field-wrap">
                              <label>
                                    Email <span class="req">*</span>
                              </label>
                              <input type="email" required autocomplete="off" th:field="*{email}"/>
                        </div>

                        <div class="field-wrap">
                              <label>
                                    Telefono <span class="req">*</span>
                              </label>
                              <input type="text" required autocomplete="off" th:field="*{telefono}"/>
                        </div>

                        <div class="top-row" th:object="${usuario}">

                              <div class="field-wrap">
                                    <label>
                                          Usuario<span class="req">*</span>
                                    </label>
                                    <input type="text" required autocomplete="off" th:field="*{nombreU}"/>
                              </div>

                              <div class="field-wrap">
                                    <label>
                                          Contraseña<span class="req">*</span>
                                    </label>
                                    <input type="password" required autocomplete="off" th:field="*{clave}"/>
                              </div>
                        </div>

                        <button type="submit" class="button button-block">Enviar formulario</button>

                  </form>

            </div>

            <div id="login" >
                  <h1>Bienvenido a Kinesys</h1>

                  <form action="/"  th:object="${usuario}" method="post">

                        <div class="field-wrap">
                              <label>
                                    Usuario<span class="req">*</span>
                              </label>
                              <input type="text" required autocomplete="off" th:field="*{nombreU}"/>
                        </div>

                        <div class="field-wrap">
                              <label>
                                    Contraseña<span class="req">*</span>
                              </label>
                              <input type="password" required autocomplete="off" th:field="*{clave}"/>
                        </div>

                        <p class="forgot"><a href="#">Olvidé la contraseña</a></p>

                        <button class="button button-block" disabled>Ingresar</button>

                  </form>

            </div>

      </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-p34f1UUtsS3wqzfto5wAAmdvj+osOnFyQFpp4Ua3gs/ZVWx6oOypYoCJhGGScy+8"
        crossorigin="anonymous">

</script>

<script>
(() => {
"use strict";
const form = document.getElementById("formulario");
form.addEventListener("submit", (event) => {
    if (!form.checkValidity()) {
        event.preventDefault();
        event.stopPropagation();
    }

    form.classList.add("was-validated");
}, false);
})();

</script>
</body>
</html>