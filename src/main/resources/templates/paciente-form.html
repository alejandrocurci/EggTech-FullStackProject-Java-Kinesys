<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns="http://www.w3.org/1999/xhtml">

<head>
      <meta charset="UTF-8">

      <meta name="viewport" content="width=device-width, initial-scale=1.0">

      <meta http-equiv="X-UA-Compatible" content="ie=edge">

      <meta name="description" content="Kinesys">

      <title>Paciente-Formulario</title>

      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
      <!--<script
      src="https://code.jquery.com/jquery-3.6.0.min.js"
      integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
      crossorigin="anonymous"></script>-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <!-- <script
      src="https://code.jquery.com/jquery-2.2.4.min.js"
      integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
      crossorigin="anonymous"></script> -->




      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css">

      <link rel="stylesheet" th:href="@{/formularios.css}">


</head>

<body class="fondo-registro">
      <nav th:replace="fragmentnavbar-home :: navbar "></nav>

      <div class="form">
            <div class="tab-content">
                  <div id="signup">
                        <h1>Registro Paciente</h1>

                        <form th:action="@{/pacientes/__${action}__}" method="post" th:object="${paciente}"
                              id="formulario" novalidate>
                              <input type="hidden" th:field="*{idPaciente}" />

                              <div class="top-row">
                                    <div class="field-wrap">

                                          <input type="text" placeholder="Nombre" autocomplete="off"
                                                th:field="*{nombre}" th:errorclass="'form-control alert-danger'" />
                                          <small class="form-text text-danger" th:if="${#fields.hasErrors('nombre')}"
                                                th:errors="*{nombre}"></small>
                                    </div>

                                    <div class="field-wrap">

                                          <input type="text" autocomplete="off" placeholder="Apellido"
                                                th:field="*{apellido}" th:errorclass="'form-control alert-danger'" />
                                          <small class="form-text text-danger" th:if="${#fields.hasErrors('apellido')}"
                                                th:errors="*{apellido}"></small>
                                    </div>
                              </div>

                              <div class="field-wrap">

                                    <input type="number" autocomplete="off" th:field="*{dni}"
                                          th:errorclass="'form-control alert-danger'" placeholder="Dni" maxlength="8"
                                          oninput="event.target.value = event.target.value.replace(/[^0-9]*/g,'');" />
                                    <small class="form-text text-danger" th:if="${#fields.hasErrors('dni')}"
                                          th:errors="*{dni}"></small>
                              </div>

                              <div class="field-wrap">

                                    <input type="email" autocomplete="off" th:field="*{email}"
                                          th:errorclass="'form-control alert-danger'" placeholder="Email" />
                                    <small class="form-text text-danger" th:if="${#fields.hasErrors('email')}"
                                          th:errors="*{email}"></small>
                              </div>

                              <div class="field-wrap">

                                    <input type="text" autocomplete="off" th:field="*{telefono}"
                                          th:errorclass="'form-control alert-danger'" placeholder="telefono" />
                                    <small class="form-text text-danger" th:if="${#fields.hasErrors('telefono')}"
                                          th:errors="*{telefono}"></small>
                              </div>

                              <div class="top-row" th:object="${usuario}">

                                    <div class="field-wrap">

                                          <input type="text" autocomplete="off" th:field="*{nombreU}"
                                                th:errorclass="'form-control alert-danger'" placeholder="Usuario" />
                                          <small class="form-text text-danger" th:if="${#fields.hasErrors('nombreU')}"
                                                th:errors="*{nombreU}"></small>
                                    </div>

                                    <div class="field-wrap">

                                          <input type="password" autocomplete="off" th:field="*{clave}"
                                                th:errorclass="'form-control alert-danger'" placeholder="ContraseÃ±a"
                                                maxlength="10" size="10" />
                                          <small class="form-text text-danger" th:if="${#fields.hasErrors('clave')}"
                                                th:errors="*{clave}"></small>
                                    </div>
                              </div>

                              <button type="submit" class="button button-block">Enviar formulario</button>

                        </form>

                  </div>

            </div>
      </div>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-p34f1UUtsS3wqzfto5wAAmdvj+osOnFyQFpp4Ua3gs/ZVWx6oOypYoCJhGGScy+8" crossorigin="anonymous">

            </script>

      <script>
            (() => {
                  "use strict";
                  const form = document.getElementById("formulario");
                  form.addEventListener("submit", (event) => {
                        if (!form.checkValidity()) {
                              event.preventDefault();
                              event.stopPropagation();
                        }

                        form.classList.add("was-validated");
                  }, false);
            })();

      </script>
</body>

</html>